<div class="container my-5">
  <div class="row justify-content-center align-items-center g-5">
    <div class="col-md-6 d-none d-md-block">
      <img src="./assets/img/learn.png" alt="Imagen de Registro" class="img-fluid rounded" />
    </div>
    <div class="col-md-5">
      <div class="card p-4 shadow">
        <h2 class="text-center pb-3">Registro de Usuario</h2>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
          <div class="mb-3">
            <label for="name" class="form-label">Nombre Completo</label>
            <input
              type="text"
              id="name"
              class="form-control"
              formControlName="name"
              [ngClass]="{ 'is-invalid': isFieldInvalid('name') }"
            />
            <div *ngIf="isFieldInvalid('name')" class="invalid-feedback">
              <div *ngIf="registerForm.get('name')?.errors?.['required']">
                Nombre es obligatorio.
              </div>
              <div *ngIf="registerForm.get('name')?.errors?.['pattern']">
                El nombre no puede contener números ni caracteres especiales.
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="email" class="form-label">Correo Electrónico</label>
            <input
              type="email"
              id="email"
              class="form-control"
              formControlName="email"
              [ngClass]="{ 'is-invalid': isFieldInvalid('email') }"
            />
            <div *ngIf="isFieldInvalid('email')" class="invalid-feedback">
              Ingresa un email válido.
            </div>
          </div>

          <div class="mb-3">
            <label for="username" class="form-label">Nombre de Usuario</label>
            <input
              type="text"
              id="username"
              class="form-control"
              formControlName="username"
              [ngClass]="{ 'is-invalid': isFieldInvalid('username') }"
            />
            <div *ngIf="isFieldInvalid('username')" class="invalid-feedback">
              Nombre de usuario es obligatorio.
            </div>
          </div>

          <div class="mb-3">
            <label for="password" class="form-label">Contraseña</label>
            <input
              type="password"
              id="password"
              class="form-control"
              formControlName="password"
              [ngClass]="{ 'is-invalid': isFieldInvalid('password') }"
            />
            <div *ngIf="isFieldInvalid('password')" class="invalid-feedback">
              <div *ngIf="registerForm.get('password')?.errors?.['required']">
                La contraseña es obligatoria.
              </div>
              <div *ngIf="registerForm.get('password')?.errors?.['minlength']">
                La contraseña debe tener al menos 8 caracteres.
              </div>
              <div *ngIf="registerForm.get('password')?.errors?.['maxlength']">
                La contraseña no debe sobrepasar los 64 caracteres.
              </div>
              <div *ngIf="registerForm.get('password')?.errors?.['pattern']">
                La contraseña debe incluir al menos una mayúscula, una minúscula, un número y un carácter especial.
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label for="confirmPassword" class="form-label">Confirmar Contraseña</label>
            <input
              type="password"
              id="confirmPassword"
              class="form-control"
              formControlName="confirmPassword"
              [ngClass]="{ 'is-invalid': isFieldInvalid('confirmPassword') }"
            />
            <div *ngIf="isFieldInvalid('confirmPassword')" class="invalid-feedback">
              Las contraseñas no coinciden.
            </div>
          </div>

          <button type="submit" class="btn btn-enroll w-100" [disabled]="registerForm.invalid">Registrarse</button>
        </form>
      </div>
      <br />
      <div class="card p-4 shadow">
        <span class="form-label">¿Ya tienes cuenta?
          <a routerLink="/login">Inicia sesión</a>
        </span>
      </div>
    </div>
  </div>
</div>